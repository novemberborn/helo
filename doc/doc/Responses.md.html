<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Responses - Responses.md</title>

  <link rel="stylesheet" href="../assets/style.css">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>
  <meta name="groc-relative-root" content="../"/>
  <meta name="groc-document-path" content="doc/Responses.md"/>
  
</head>
<body>
  <div id="file-area">
    <div id="meta">
      <code class="file-path">
      
        <a href="https://github.com/novemberborn/helo/blob/master/doc/Responses.md">doc/Responses.md</a>
      
      </code>
    </div>
    <div id="document">
    
      <div class="segment">
      
        <div class="comments ">
          <div class="wrapper"><h1 id="responses"><a href="#responses" class="anchor"></a>Responses</h1><p>Response objects can contain the following properties:</p>
<ul>
<li><code>statusCode</code></li>
<li><code>headers</code></li>
<li><code>stream</code></li>
<li><code>chunk</code></li>
<li><code>html</code></li>
<li><code>json</code></li>
<li><code>form</code></li>
</ul>
<p>These should be own-properties of the object.</p>
<h2 id="head"><a href="#head" class="anchor"></a>Head</h2><h3 id="statuscode"><a href="#statuscode" class="anchor"></a><code>statusCode</code></h3><p>Defaults to <code>200</code> if not set. Otherwise must be a finite number.</p>
<h3 id="headers"><a href="#headers" class="anchor"></a><code>headers</code></h3><p>Optional object containing the headers to be written to the outgoing message.
Each own-property is considered as a header. Header names must not
case-insensitively equal other names on the same object, nor can they be the
empty string.</p>
<p>Values can be strings, finite numbers, and booleans. They&#39;ll be cast to strings
if necessary. Values may be arrays, in which case each item will still need to
be a string, finite number, or boolean. Again they&#39;ll be cast to strings if
necessary. Array values are not allowed to include other arrays.</p>
<p>The <code>headers</code> object can only be sent <em>once</em>. If the same object is included in
multiple responses an error will be thrown.</p>
<h2 id="body"><a href="#body" class="anchor"></a>Body</h2><p>The response body is determined by <code>stream</code>, <code>chunk</code>, <code>html</code>, <code>json</code> or <code>form</code>.
Only one of these properties can be present.</p>
<p>No body is allowed for <code>HEAD</code> requests, and responses with status codes <code>204</code>,
<code>304</code> and any code in the <code>1xx</code> range. An error will be thrown if a body is
returned regardless.</p>
<h3 id="stream"><a href="#stream" class="anchor"></a><code>stream</code></h3><p>Should contain an object with a <code>pipe()</code> method, to pipe data to the outgoing
message.</p>
<h3 id="chunk"><a href="#chunk" class="anchor"></a><code>chunk</code></h3><p>Should contain a <code>Buffer</code> containing the bytes to be written.</p>
<h3 id="html"><a href="#html" class="anchor"></a><code>html</code></h3><p>Should contain either a string, or an array containing strings or <code>Buffer</code>s. The
data is written using <code>utf8</code> encoding.</p>
<p>If no <code>content-type</code> header is set, the type configured in the stack will be
used.</p>
<h3 id="json"><a href="#json" class="anchor"></a><code>json</code></h3><p>Should contain a value that can be serialized as JSON. Note that <code>undefined</code>
values cause an error to be thrown, but other values which might not serialize
will not.</p>
<p>The serialization implementation can be configured in the stack.</p>
<p>If no <code>content-type</code> header is set, the type configured in the stack will be
used.</p>
<h3 id="form"><a href="#form" class="anchor"></a><code>form</code></h3><p>Should contain a value that can be serialized as a URL-encoded string. Note that
non-object values cause an error to be thrown.</p>
<p>The default serialization implementation, as configured in the stack, only
serializes own-properties. Empty property names cause an error to be thrown.
Values can be strings, finite numbers, and booleans.</p>
<p>If no <code>content-type</code> header is set, the type configured in the stack will be
used.</p>
</div>
        </div>
      
      
      </div>
    
    </div>
  </div>

  <script src="../toc.js"></script>
  <script src="../assets/libs.js"></script>
  <script src="../assets/behavior.js"></script>
</body>
</html>